!function(t){var r={};function _(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,_),n.l=!0,n.exports}_.m=t,_.c=r,_.d=function(e,n,t){_.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(n,e){if(1&e&&(n=_(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(_.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)_.d(t,r,function(e){return n[e]}.bind(null,r));return t},_.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(n,"a",n),n},_.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},_.p="",_(_.s="./src/js/script.js")}({"./src/js/modules/bookCardTemplate.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nvar bookCardTemplate = {\n  wrap: \'.catalog__block\',\n  tag: \'article\',\n  tagClass: \'.product-card-mini\',\n  setContent: function setContent(data) {\n    return "<a class=\\"product-card-mini__picture-wrap\\" href=\\"description.html\\">\\n              <picture class=\\"product-card-mini__picture\\">\\n                <source media=\\"(min-width: 1920px)\\" srcset=\\"img/books/".concat(data.uri, "_2x.png 2x\\"/>\\n                <img class=\\"product-card-mini__img\\" src=\\"img/books/").concat(data.uri, ".png\\" alt=\\"").concat(data.uri, "\\" width=\\"210\\" height=\\"300\\">\\n              </picture>\\n            </a>\\n            <a class=\\"product-card-mini__title-wrap\\" href=\\"description.html\\">\\n              <h3 class=\\"product-card-mini__title\\">").concat(data.name, "</h3>\\n            </a>\\n            <p class=\\"product-card-mini__descr\\">").concat(data.desc, "</p>\\n            <span class=\\"product-card-mini__price\\">").concat(data.price, " &#8381;</span>");\n  }\n};\n/* harmony default export */ __webpack_exports__["default"] = (bookCardTemplate);\n\n//# sourceURL=webpack:///./src/js/modules/bookCardTemplate.js?')},"./src/js/modules/createElement.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bookCardTemplate.js */ "./src/js/modules/bookCardTemplate.js");\n\n\nfunction createElement(book) {\n  var card = document.createElement(\'article\');\n  card.classList.add(\'product-card-mini\');\n  card.innerHTML = _bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_0__["default"].setContent(book);\n  return card;\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (createElement);\n\n//# sourceURL=webpack:///./src/js/modules/createElement.js?')},"./src/js/modules/insertElements.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _createElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createElement.js */ "./src/js/modules/createElement.js");\n/* harmony import */ var _bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bookCardTemplate.js */ "./src/js/modules/bookCardTemplate.js");\n\n\n\nfunction insertElements(booksArr, template) {\n  booksArr.forEach(function (book) {\n    var card = Object(_createElement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(book, template);\n    var wrap = document.querySelector(_bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"].wrap);\n    wrap.appendChild(card);\n  });\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (insertElements);\n\n//# sourceURL=webpack:///./src/js/modules/insertElements.js?')},"./src/js/modules/sendRequest.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bookCardTemplate.js */ "./src/js/modules/bookCardTemplate.js");\n/* harmony import */ var _insertElements_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./insertElements.js */ "./src/js/modules/insertElements.js");\n\n\n\nfunction sendRequest(data) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\'GET\', data);\n  xhr.send();\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      var request = JSON.parse(xhr.responseText);\n      var wrap = document.querySelector(_bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_0__["default"].wrap);\n\n      if (wrap.children) {\n        wrap.innerHTML = \'\';\n      }\n\n      if (document.querySelector(_bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_0__["default"].wrap)) {\n        Object(_insertElements_js__WEBPACK_IMPORTED_MODULE_1__["default"])(request.items, _bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_0__["default"]);\n      }\n    } else {\n      console.log("\\u0416\\u0434\\u0443 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438: ".concat(xhr.readyState));\n    }\n  };\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (sendRequest);\n\n//# sourceURL=webpack:///./src/js/modules/sendRequest.js?')},"./src/js/script.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_insertElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/insertElements.js */ \"./src/js/modules/insertElements.js\");\n/* harmony import */ var _modules_bookCardTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/bookCardTemplate.js */ \"./src/js/modules/bookCardTemplate.js\");\n/* harmony import */ var _modules_sendRequest_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/sendRequest.js */ \"./src/js/modules/sendRequest.js\");\n\n\n // Объект данных для ajax запроса\n\nvar data = {\n  page: 1,\n  perPage: 8,\n  type: ''\n};\nObject(_modules_sendRequest_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(createDataAjax()); //Вешаем слушатель на табы\n\nvar tabsWrap = document.querySelector('.j-catalog__tabs');\nvar tabsArray = Array.from(tabsWrap.children);\ntabsArray.forEach(function (tab) {\n  var link = tab.firstElementChild;\n  link.addEventListener('click', function (event) {\n    event.preventDefault();\n    data.type = event.target.dataset.type;\n    var dataAjax = createDataAjax();\n    Object(_modules_sendRequest_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(dataAjax);\n  });\n  var type = link.dataset.type;\n}); // Функция подготовки url для GET запроса\n\nfunction createDataAjax() {\n  if (window.matchMedia(\"(min-width: 767px)\").matches) {\n    data.perPage = 8;\n  } else {\n    data.perPage = 3;\n  }\n\n  return \"https://api.do-epixx.ru/htmlpro/bookstore/books/get/\".concat(data.page, \"/\").concat(data.perPage, \"/\").concat(data.type);\n}\n\n$(document).ready(function () {\n  $('.page-header__toggle').on('click', function () {\n    $('.main-nav').toggleClass('.active');\n    $('.main-nav').toggle();\n  });\n  $('.slider').owlCarousel({\n    dots: false,\n    loop: true,\n    center: true,\n    nav: true,\n    margin: 20,\n    responsive: {\n      0: {\n        items: 1,\n        navText: [\"<img src='img/arrow-left.svg'>\", \"<img src='img/arrow-right.svg'>\"]\n      }\n    }\n  });\n  $('.novice__block').owlCarousel({\n    dots: false,\n    items: 1,\n    loop: true,\n    center: true,\n    autoWidth: true,\n    responsive: {\n      767: {\n        items: 3\n      },\n      1279: {\n        items: 4,\n        center: false\n      }\n    }\n  }); // $(window).width(function() {\n  //   if ($(window).width() > 767) {\n  //     $('.catalog__tabs').trigger('destroy.owl.carousel');\n  //   }\n  //   else {\n  //     return false;\n  //   }\n  // });\n});\n\n//# sourceURL=webpack:///./src/js/script.js?")}});